{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/js/modal.js","../src/home.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getCategoriesList() {\n  try {\n    const data = await axios('https://dummyjson.com/products/category-list');\n    return data.data;\n  } catch (error) {\n    console.log(error.message);\n    throw new Error('Something went wrong!');\n  }\n}\n\nexport async function getProductsList(currentPage = 1) {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n    throw new Error('Something went wrong!');\n  }\n}\n\nexport async function getProductsListByCategory(category, currentPage = 1) {\n  try {\n    const response = await axios.get(\n      `https://dummyjson.com/products/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error.message);\n    throw new Error('Something went wrong!');\n  }\n}\n\nexport async function loadIdProduct(id) {\n  try {\n    const response = await axios.get(`https://dummyjson.com/products/${id}`);\n    const productId = response.data;\n    console.log('Loading product:', id);\n    return productId;\n  }\n  catch (error) {\n    console.log(error);\n  }\n}","import refs from './refs';\n\nexport function renderCategories(data) {\n  const markup = ['All', ...data]\n    .map(item => {\n      return `\n    <li class=\"categories__item\">\n        <button class=\"categories__btn\" type=\"button\">${item}</button>\n    </li>\n `;\n    })\n    .join('');\n\n  refs.categotiesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(({ id, title, thumbnail, brand, category, price }) => {\n      return `\n    <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category:${category}</p>\n    <p class=\"products__price\">Price:${price}$</p>\n </li>\n    `;\n    })\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function clearList() {\n  refs.divNotFound.classList.remove('not-found--visible');\n  refs.productsList.innerHTML = '';\n}\n","import { getProductsListByCategory, getProductsList } from './products-api';\nimport refs from './refs';\nimport { clearList, renderProducts } from './render-function';\n\nexport async function handleClickCategories(event) {\n  if (event.target.classList.contains('categories__btn')) {\n    const currentBtn = event.target;\n    const allBtn = refs.categotiesList.querySelectorAll('.categories__btn');\n    allBtn.forEach(item => {\n      item.classList.remove('categories__btn--active');\n    });\n    currentBtn.classList.add('categories__btn--active');\n    const category = currentBtn.textContent;\n    const products =\n      category === 'All'\n        ? await getProductsList()\n        : await getProductsListByCategory(category);\n    clearList();\n    if (products.products.length !== 0) {\n      renderProducts(products.products);\n    } else {\n      refs.divNotFound.classList.add('not-found--visible');\n    }\n  }\n}\n","import refs from './refs';\n\n\nexport function modalProductRender(product) {\n    const { images,\n        description,\n        title,\n        tags = 'Not specified',\n        shippingInformation = 'Not specified',\n        returnPolicy = 'Not specified',\n        price } = product;\n    const markup = `\n<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">\n    ${tags.map(tag => `<li class=\"modal-product__tag\">${tag}</li>`).join('')}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping:${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy:${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n    console.log('Product received:', product);\n    document.querySelector('.modal-product').innerHTML = markup;\n}","//Логіка сторінки Home\nimport { handleClickCategories } from './js/handlers';\nimport {\n  getCategoriesList,\n  getProductsList,\n  loadIdProduct,\n} from './js/products-api';\nimport refs from './js/refs';\nimport { renderCategories, renderProducts } from './js/render-function';\nimport {\n  themeToggle,\n  openModalProduct,\n  closeModalProduct,\n} from './js/helpers.js';\nimport { changeTheme } from './js/storage.js';\nimport { modalProductRender } from './js/modal.js';\n\nasync function homePage() {\n  renderCategories(await getCategoriesList());\n  const response = await getProductsList();\n  renderProducts(response.products);\n}\nchangeTheme();\nthemeToggle();\nhomePage();\n\nrefs.categotiesList.addEventListener('click', handleClickCategories);\nrefs.productsList.addEventListener('click', async event => {\n  const item = event.target.closest('.products__item');\n  if (!item) return;\n  const selectProduct = item.dataset.id;\n  openModalProduct();\n  try {\n    const product = await loadIdProduct(selectProduct);\n    modalProductRender(product);\n  } catch (error) {\n    console.log(error);\n  }\n});\nrefs.closeModalBtn.addEventListener('click', closeModalProduct);\nrefs.modalProduct.addEventListener('click', event => {\n  if (!refs.modalProductContent.contains(event.target)) {\n    closeModalProduct();\n  }\n});\n"],"names":["getCategoriesList","axios","error","getProductsList","currentPage","getProductsListByCategory","category","loadIdProduct","id","productId","renderCategories","data","markup","item","refs","renderProducts","products","title","thumbnail","brand","price","clearList","handleClickCategories","event","currentBtn","modalProductRender","product","images","description","tags","shippingInformation","returnPolicy","tag","homePage","response","changeTheme","themeToggle","selectProduct","openModalProduct","closeModalProduct"],"mappings":"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"}